<!DOCTYPE html>
<html ng-app="CustInfo">
	<head>
		<!-- <link rel="stylesheet" href="css/ui-grid.min.css"/> -->
		<link rel="stylesheet" href="css/style.css"/>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
		<script src="js/libs/angular.min.js"></script>
		<!-- <script src="js/libs/ui-grid.min.js"></script> -->
		<script src="js/app.js"></script>
		<script src="js/controllers/CustController.js"></script>
		<script src="js/services/DataService.js"></script>
	</head>
<body ng-controller="CustController as custDets">
<div class="container">
	<h3>Search customer</h3>
	<div class="search-input-wrapper">
		<input type="text" placeholder="Enter customer details..." ng-model="custDets.searchText" ng-disabled="!custDets.custdata"/>
	</div>
	<div class="search-dropdown-wrapper">
		<select ng-options="item.label for item in custDets.searchDropDownOptions" ng-model="custDets.selectedSearchOpt" ng-disabled="!custDets.custdata"></select>
	</div>
	<div class="search-button-wrapper">
		<button type="button" class="btn button-blue" ng-click="custDets.search()" ng-disabled="!custDets.custdata || !custDets.searchText"><i class="fa fa-search"></i> Search</button>
		<button type="button" class="btn button-blue" ng-click="custDets.reset()"><i class="fa fa-exchange"></i> Reset</button>
	</div>

	<div class="row">
		<strong ng-if="!custDets.custdata"><i class="fa fa-spinner fa-pulse fa-fw text-blue"></i> Please wait, loading data...</strong>

		<div class="table-wrapper" ng-if="custDets.custdata">
			<table class="table" >
				<thead>
					<tr>
						<th>#</th>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Gender</th>
						<th>Country</th>
						<th>Currency</th>
						<th>Credit card Number</th>
						<th>Email</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="cust in custDets.custdata track by $index">
						<td>{{((custDets.currentPage-1)*10)+$index+1}}</td>
						<td>{{cust.first_name}}</td>
						<td>{{cust.last_name}}</td>
						<td>{{cust.gender}}</td>
						<td>{{cust.country}}</td>
						<td>{{cust.currency}}</td>
						<td>{{cust.credit_card_num}}</td>
						<td>{{cust.email}}</td>
					</tr>
					<tr ng-if="custDets.custdata.length<=0">
						<td colspan="8" class="text-red"><strong><i class="fa fa-exclamation-triangle"></i> Cannot find any records</strong></td>
					</tr>
				<tbody>
			</table>
		</div>
		
		<div class="pagination-wrapper" ng-if="custDets.custdata">
		<p>Current page: <em>{{ custDets.currentPage }}</em> of <em>{{ custDets.getTotalPages() }}</em></p>
		<button type="button" class="btn button-blue" ng-click="custDets.goToPrevPage()" ng-disabled="custDets.currentPage == 1"><i class="fa fa-chevron-left"></i></button>
		<button type="button" class="btn button-blue" ng-click="custDets.goToNextPage()" ng-disabled="custDets.currentPage == custDets.getTotalPages()"><i class="fa fa-chevron-right"></i></button>
		<label class="float-right">Total items: <strong>{{custDets.custMasterData.length}}</strong></label>
		</div>
		<!-- <div ng-if="custDets.custdata" ui-grid="custDets.gridOptions2" ui-grid-pagination class="myGrid"></div> -->
	</div>
</div>
</body>
</html>